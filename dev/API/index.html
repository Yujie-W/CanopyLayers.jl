<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · CanopyLayers</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="CanopyLayers logo"/></a><div class="docs-package-name"><span class="docs-autofit">CanopyLayers</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Structures"><span>Structures</span></a></li><li><a class="tocitem" href="#Caches"><span>Caches</span></a></li><li><a class="tocitem" href="#Initialization-of-Structures"><span>Initialization of Structures</span></a></li><li><a class="tocitem" href="#Big-Leaf-Model"><span>Big Leaf Model</span></a></li><li><a class="tocitem" href="#SCOPE-Model"><span>SCOPE Model</span></a></li><li><a class="tocitem" href="#Indicies"><span>Indicies</span></a></li><li><a class="tocitem" href="#Utils"><span>Utils</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/bigleaf/">Bigleaf</a></li><li><a class="tocitem" href="../generated/fluspect/">Fluspect</a></li><li><a class="tocitem" href="../generated/scope/">Scope</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/master/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="CanopyLayers"><a class="docs-heading-anchor" href="#CanopyLayers">CanopyLayers</a><a id="CanopyLayers-1"></a><a class="docs-heading-anchor-permalink" href="#CanopyLayers" title="Permalink"></a></h1><h2 id="Structures"><a class="docs-heading-anchor" href="#Structures">Structures</a><a id="Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.Canopy4RT" href="#CanopyLayers.Canopy4RT"><code>CanopyLayers.Canopy4RT</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct Canopy4RT</code></pre><p>A canopy struct for the radiation transfer module</p><p><strong>Fields</strong></p><ul><li><p><code>nLayer</code></p><p>Number of canopy layers</p></li><li><p><code>LAI</code></p><p>Leaf Area Index</p></li><li><p><code>Ω</code></p><p>Clumping factor</p></li><li><p><code>clump_a</code></p><p>Structure factor a</p></li><li><p><code>clump_b</code></p><p>Structure factor b</p></li><li><p><code>leaf_width</code></p><p>Leaf width</p></li><li><p><code>hc</code></p><p>Vegetation height</p></li><li><p><code>LIDFa</code></p><p>Leaf Inclination</p></li><li><p><code>LIDFb</code></p><p>Variation in leaf inclination</p></li><li><p><code>hot</code></p><p>HotSpot parameter (still need to check!)</p></li><li><p><code>height</code></p><p>Canopy height <code>[m]</code></p></li><li><p><code>z0m</code></p><p>Canopy roughness <code>[m]</code></p></li><li><p><code>z0h</code></p><p>Tree roughtnes <code>[m]</code></p></li><li><p><code>d</code></p><p>Canopy displacement height <code>[m]</code></p></li><li><p><code>Cd</code></p><p>m/sqrt(s) turbulent transfer coefficient</p></li><li><p><code>litab</code></p><p>List of mean inclination angles <code>[°]</code></p></li><li><p><code>litab_bnd</code></p><p>List of inclination angle boundaries <code>[°]</code></p></li><li><p><code>lazitab</code></p><p>List of mean azimuth angles <code>[°]</code></p></li><li><p><code>cos_ttlo</code></p><p>Cosine of lazitab</p></li><li><p><code>cos_philo</code></p><p>Cosine of lazitab - psi (relative azimuth angle), update with time</p></li><li><p><code>cos_ttli</code></p><p>Cosine of litab</p></li><li><p><code>sin_ttli</code></p><p>Sine of litab</p></li><li><p><code>vol_scatt</code></p><p>Cache for volome scatter function</p></li><li><p><code>lidf</code></p><p>Inclination angles weight distribution</p></li><li><p><code>xl</code></p><p>List of level location (level = layer + 1)</p></li><li><p><code>dx</code></p><p>1/nLayer</p></li><li><p><code>nAzi</code></p><p>Number of azimuth angles</p></li><li><p><code>nIncl</code></p><p>Number of inclination angles</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.CanopyOpticals" href="#CanopyLayers.CanopyOpticals"><code>CanopyLayers.CanopyOpticals</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct CanopyOpticals{FT}</code></pre><p>A struct for canopy optical properties</p><p><strong>Fields</strong></p><ul><li><p><code>nAzi</code></p><p>Number of azimuth angles</p></li><li><p><code>nIncl</code></p><p>Number of inclination agles</p></li><li><p><code>nLayer</code></p><p>Number of canopy layers</p></li><li><p><code>nWL</code></p><p>Number of wave lengths</p></li><li><p><code>sdb</code></p><p>Solar -&gt; Diffuse backscatter weight</p></li><li><p><code>sdf</code></p><p>Solar -&gt; Diffuse forward scatter weight</p></li><li><p><code>dob</code></p><p>Diffuse -&gt; Directional backscatter weight</p></li><li><p><code>dof</code></p><p>Diffuse -&gt; Directional forward scatter weight</p></li><li><p><code>ddb</code></p><p>Diffuse -&gt; Diffuse backscatter weight</p></li><li><p><code>ddf</code></p><p>Diffuse -&gt; Diffuse forward scatter weight</p></li><li><p><code>ks</code></p><p>Solar beam extinction coefficient weight</p></li><li><p><code>ko</code></p><p>Outgoing beam extinction coefficient weight</p></li><li><p><code>bf</code></p><p>?</p></li><li><p><code>sob</code></p><p>Weight of specular2directional backscatter coefficient</p></li><li><p><code>sof</code></p><p>Weight of specular2directional forward coefficient</p></li><li><p><code>Ps</code></p><p>Probability of directly viewing a leaf in solar direction</p></li><li><p><code>Po</code></p><p>Probability of directly viewing a leaf in viewing direction</p></li><li><p><code>Pso</code></p><p>Bi-directional probability of directly viewing a leaf (solar-&gt;canopy-&gt;viewing)</p></li><li><p><code>fs</code></p><p>conversion factor fs to compute irradiance on inclined leaf</p></li><li><p><code>absfs</code></p><p>abs(fs)</p></li><li><p><code>absfsfo</code></p><p>abs(fs*fo)</p></li><li><p><code>fsfo</code></p><p>fs*fo</p></li><li><p><code>fo</code></p><p>conversion factor fo for angle towards observer (not sun like fs)</p></li><li><p><code>absfo</code></p><p>abs(fo)</p></li><li><p><code>cosΘ_l</code></p><p>Cosine of leaf azimuths</p></li><li><p><code>cos2Θ_l</code></p><p>cos of leaf azimuth sqared</p></li><li><p><code>sigb</code></p><p>diffuse     backscatter scattering coefficient for diffuse  incidence</p></li><li><p><code>sigf</code></p><p>diffuse     forward     scattering coefficient for diffuse  incidence</p></li><li><p><code>sb</code></p><p>diffuse     backscatter scattering coefficient for specular incidence</p></li><li><p><code>sf</code></p><p>diffuse     forward     scattering coefficient for specular incidence</p></li><li><p><code>vb</code></p><p>directional backscatter scattering coefficient for diffuse  incidence</p></li><li><p><code>vf</code></p><p>directional forward     scattering coefficient for diffuse  incidence</p></li><li><p><code>w</code></p><p>bidirectional scattering coefficent (directional-directional)</p></li><li><p><code>a</code></p><p>attenuation</p></li><li><p><code>Xsd</code></p><p>Effective layer transmittance (direct-&gt;diffuse)</p></li><li><p><code>Xdd</code></p><p>Effective layer transmittance (diffuse-&gt;diffuse)</p></li><li><p><code>R_sd</code></p><p>Effective layer reflectance (direct-&gt;diffuse)</p></li><li><p><code>R_dd</code></p><p>Effective layer reflectance (diffuse-&gt;diffuse)</p></li><li><p><code>Es_</code></p><p>Solar direct radiation per layer)</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.CanopyRads" href="#CanopyLayers.CanopyRads"><code>CanopyLayers.CanopyRads</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct CanopyRads{FT}</code></pre><p>A struct for canopy radiation information</p><p><strong>Fields</strong></p><ul><li><p><code>nAzi</code></p><p>Number of azimuth angles</p></li><li><p><code>nIncl</code></p><p>Number of inclination agles</p></li><li><p><code>nLayer</code></p><p>Number of canopy layers</p></li><li><p><code>nLevel</code></p><p>Number of canopy levels</p></li><li><p><code>nWL</code></p><p>Number of wave lengths</p></li><li><p><code>nWLF</code></p><p>Number of wave lengths for SIF</p></li><li><p><code>intEout</code></p><p>Integrated TOC outgoing flux <code>[W m⁻²]</code></p></li><li><p><code>incomingPAR</code></p><p>Incident spectrally integrated total PAR <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>incomingPAR_direct</code></p><p>Incident spectrally integrated direct PAR <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>incomingPAR_diffuse</code></p><p>Incident spectrally integrated diffuse PAR <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>RnSoil_diffuse</code></p><p>Net radiation of shaded soil <code>[W m⁻²]</code></p></li><li><p><code>RnSoil_direct</code></p><p>Net Short-wave radiation of sunlit soil <code>[W m⁻²]</code></p></li><li><p><code>RnSoil</code></p><p>Net Short-wave radiation of soil (shaded + sunlit) <code>[W m⁻²]</code></p></li><li><p><code>RnSoilLW</code></p><p>Net long-wave radiation of soil (shaded + sunlit) <code>[W m⁻²]</code></p></li><li><p><code>absPAR_shade</code></p><p>Net PAR of shaded leaves <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>absPAR_shadeCab</code></p><p>Net PAR by Cab+Car of shaded leaves <code>[moles m⁻² s⁻¹]</code></p></li><li><p><code>intNetSW_sunlit</code></p><p>Spectrally integrated net absorbed direct radiation in each layer <code>[W m⁻²)]</code></p></li><li><p><code>intNetSW_shade</code></p><p>Spectrally integrated net absorbed diffuse radiation in each layer <code>[W m⁻²)]</code></p></li><li><p><code>intNetLW_sunlit</code></p><p>Spectrally integrated net absorbed direct radiation in each layer <code>[W m⁻²)]</code></p></li><li><p><code>intNetLW_shade</code></p><p>Spectrally integrated net absorbed diffuse radiation in each layer <code>[W m⁻²)]</code></p></li><li><p><code>T_sun</code></p><p>Leaf temperature (sunlit) <code>[K]</code></p></li><li><p><code>T_shade</code></p><p>Leaf temperature (shaded) <code>[K]</code></p></li><li><p><code>ϕ_shade</code></p><p>Fluorescence yield for shaded leaves</p></li><li><p><code>H_shade</code></p><p>Sensible Heat flux H of shaded leaves <code>[W m⁻²]</code></p></li><li><p><code>LE_shade</code></p><p>Latent Heat flux LE of shaded leaves <code>[W m⁻²]</code></p></li><li><p><code>NPQ_shade</code></p><p>NPQ of shaded leaves</p></li><li><p><code>GPP_shade</code></p><p>GPP of shaded leaves <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>gs_shade</code></p><p>gs of shaded leaves <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>ψl_shade</code></p><p>Leaf water potential of shaded leaves <code>[MPa]</code></p></li><li><p><code>Cc_shade</code></p><p>Cc of shaded leaves <code>[µmol/mol]</code></p></li><li><p><code>Pi_shade</code></p><p>internal CO₂ concentration of shaded leaves <code>[µmol/mol]</code></p></li><li><p><code>Lo</code></p><p>Short-wave TOC outgoing radiance in observation direction <code>[mW m⁻² nm⁻¹ sr⁻¹]</code></p></li><li><p><code>Eout</code></p><p>Short-wave TOC outgoing radiation <code>[mW m⁻² nm⁻¹]</code></p></li><li><p><code>alb_obs</code></p><p>Short-wave Albedo in viewing direction</p></li><li><p><code>alb_direct</code></p><p>Short-wave Albedo for direct incoming radiation</p></li><li><p><code>alb_diffuse</code></p><p>Short-wave Albedo for diffuse incoming radiation</p></li><li><p><code>E_up</code></p><p>Upwelling diffuse short-wave radiation within canopy <code>[mW m⁻² nm⁻¹]</code></p></li><li><p><code>E_down</code></p><p>Downwelling diffuse short-wave radiation within canopy <code>[mW m⁻² nm⁻¹]</code></p></li><li><p><code>netSW_sunlit</code></p><p>Net absorbed direct radiation in each layer <code>[mW m⁻² nm⁻¹]</code></p></li><li><p><code>netSW_shade</code></p><p>net absorbed diffuse radiation in each layer <code>[mW m⁻² nm⁻¹]</code></p></li><li><p><code>absPAR_sun</code></p><p>net PAR of sunlit leaves <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>absPAR_sunCab</code></p><p>net PAR by Cab+Car of sunlit leaves <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>T_sun3D</code></p><p>Leaf temperature (sunlit) <code>[K]</code></p></li><li><p><code>ϕ_sun</code></p><p>Fluorescence yield for sunlit leaves</p></li><li><p><code>H_sun</code></p><p>Sensible Heat flux H of sunlit leaves <code>[W m⁻²]</code></p></li><li><p><code>LE_sun</code></p><p>Latent Heat flux LE of sunlit leaves <code>[W m⁻²]</code></p></li><li><p><code>NPQ_sun</code></p><p>NPQ of sunlit leaves</p></li><li><p><code>GPP_sun</code></p><p>GPP of sunlit leaves <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>gs_sun</code></p><p>gs of sunlit leaves <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>ψl_sun</code></p><p>Leaf water potential of sunlit leaves <code>[MPa]</code></p></li><li><p><code>Cc_sun</code></p><p>Cc of sunlit leaves <code>[µmol/mol]</code></p></li><li><p><code>Pi_sun</code></p><p>Internal CO₂ concentration of sunlit leaves <code>[µmol/mol]</code></p></li><li><p><code>SIF_hemi</code></p><p>Hemispheric total outgoing SIF flux <code>[mW m⁻² nm⁻¹]</code>)</p></li><li><p><code>SIF_obs</code></p><p>Observer-direction outgoing SIF radiance  (mW m⁻² nm⁻¹ sr⁻¹))</p></li><li><p><code>SIF_obs_sunlit</code></p><p>Observer-direction outgoing SIF radiance, sunlit leaves  (mW m⁻² nm⁻¹ sr⁻¹))</p></li><li><p><code>SIF_obs_shaded</code></p><p>Observer-direction outgoing SIF radiance, shaded leaves  (mW m⁻² nm⁻¹ sr⁻¹))</p></li><li><p><code>SIF_obs_scattered</code></p><p>Observer-direction outgoing SIF radiance, scattered   (mW m⁻² nm⁻¹ sr⁻¹))</p></li><li><p><code>SIF_obs_soil</code></p><p>Observer-direction outgoing SIF radiance, soil-reflected  (mW m⁻² nm⁻¹ sr⁻¹))</p></li><li><p><code>SIF_sum</code></p><p>Total SIF sum of layer sources  <code>[mW m⁻² nm⁻¹]</code>)</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.IncomingRadiation" href="#CanopyLayers.IncomingRadiation"><code>CanopyLayers.IncomingRadiation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct IncomingRadiation{FT}</code></pre><p>Incoming radiation information</p><p><strong>Fields</strong></p><ul><li><p><code>E_direct</code></p><p>Direct incoming radiation <code>[mW m⁻² nm⁻¹]</code></p></li><li><p><code>E_diffuse</code></p><p>Diffuse incoming radiation <code>[mW m⁻² nm⁻¹]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.LeafBios" href="#CanopyLayers.LeafBios"><code>CanopyLayers.LeafBios</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct LeafBios{FT}</code></pre><p>A struct of leaf biological parameters</p><p><strong>Fields</strong></p><ul><li><p><code>nWL</code></p><p>Number of wave length</p></li><li><p><code>nWLE</code></p><p>Number of wave length for excitation</p></li><li><p><code>nWLF</code></p><p>Number of wave length for SIF</p></li><li><p><code>N</code></p><p>Leaf structure parameter</p></li><li><p><code>Cab</code></p><p>Chlorophyll a+b content <code>[µg cm⁻²]</code></p></li><li><p><code>Car</code></p><p>Carotenoid content <code>[µg cm⁻²]</code></p></li><li><p><code>Ant</code></p><p>Anthocynanin content <code>[µg cm⁻²]</code></p></li><li><p><code>Cs</code></p><p>Senescent material fraction</p></li><li><p><code>Cw</code></p><p>Equivalent water thickness <code>[cm]</code></p></li><li><p><code>Cm</code></p><p>Dry matter content (dry leaf mass per unit area) <code>[g cm⁻²]</code></p></li><li><p><code>Cx</code></p><p>Fractionation between Zeaxanthin and Violaxanthin in Car (1=all Zeaxanthin) (-)</p></li><li><p><code>fqe</code></p><p>Leaf fluorescence efficiency (Fo standard)</p></li><li><p><code>ρ_LW</code></p><p>Broadband thermal reflectance (-)</p></li><li><p><code>τ_LW</code></p><p>Broadband thermal transmission (-)</p></li><li><p><code>ρ_SW</code></p><p>Shortwave leaf reflectance</p></li><li><p><code>τ_SW</code></p><p>Shortwave leaf transmission</p></li><li><p><code>kChlrel</code></p><p>Relative absorbtion by Chlorophyll+Car</p></li><li><p><code>kChlrel_old</code></p><p>Relative absorbtion by Chlorophyll</p></li><li><p><code>Mb</code></p><p>Fluorescence excitation matrix backwards</p></li><li><p><code>Mf</code></p><p>Fluorescence excitation matrix forwards</p></li><li><p><code>ndub</code></p><p>Doubling adding layers</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.LeafOpticals" href="#CanopyLayers.LeafOpticals"><code>CanopyLayers.LeafOpticals</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct LeafOpticals{FT}</code></pre><p>Struct for leaf optical properties</p><p><strong>Fields</strong></p><ul><li><p><code>nr</code></p></li><li><p><code>Km</code></p></li><li><p><code>Kab</code></p></li><li><p><code>Kant</code></p></li><li><p><code>Kcar</code></p></li><li><p><code>Kw</code></p></li><li><p><code>KBrown</code></p></li><li><p><code>phi</code></p></li><li><p><code>KcaV</code></p></li><li><p><code>KcaZ</code></p></li><li><p><code>lambda</code></p><p>Wave length <code>[nm]</code>, same as <code>WL</code> in <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a>`</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.RTDimensions" href="#CanopyLayers.RTDimensions"><code>CanopyLayers.RTDimensions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct RTDimensions</code></pre><p>Struct that stores matrix dimension information</p><p><strong>Fields</strong></p><ul><li><p><code>nAzi</code></p><p>Number of azimuth angles</p></li><li><p><code>nIncl</code></p><p>Number of inclination agles</p></li><li><p><code>nLayer</code></p><p>Number of canopy layers</p></li><li><p><code>nLevel</code></p><p>Number of canopy layer boundaries nLayer+1</p></li><li><p><code>nPAR</code></p><p>Number of PAR wave lengths</p></li><li><p><code>nWL</code></p><p>Number of wave lengths</p></li><li><p><code>nWLE</code></p><p>Number of wave length for excitation</p></li><li><p><code>nWLF</code></p><p>Number of wave lengths for SIF</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SoilOpticals" href="#CanopyLayers.SoilOpticals"><code>CanopyLayers.SoilOpticals</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct SoilOpticals{FT}</code></pre><p>A struct of soil optical parameters</p><p><strong>Fields</strong></p><ul><li><p><code>albedo_SW</code></p><p>Shortwave albedo</p></li><li><p><code>albedo_SW_SIF</code></p><p>Shortwave albedo for SIF</p></li><li><p><code>emsvty_SW</code></p><p>Shortwave Emissivity</p></li><li><p><code>albedo_LW</code></p><p>Longwave albedo</p></li><li><p><code>soil_skinT</code></p><p>Soil surface temperature <code>[K]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SolarAngles" href="#CanopyLayers.SolarAngles"><code>CanopyLayers.SolarAngles</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct SolarAngles{FT}</code></pre><p>Struct for observation and solar angles</p><p><strong>Fields</strong></p><ul><li><p><code>tts</code></p><p>Solar Zenith Angle <code>[degree]</code></p></li><li><p><code>tto</code></p><p>Viewing Zenith Angle in <code>[degree]</code></p></li><li><p><code>psi</code></p><p>Relative azimuth in <code>[degree]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.WaveLengths" href="#CanopyLayers.WaveLengths"><code>CanopyLayers.WaveLengths</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct WaveLengths{FT}</code></pre><p>Struct for pre-set wave length parameters</p><p><strong>Fields</strong></p><ul><li><p><code>minwlPAR</code></p><p>Minimal WL for PAR <code>[nm]</code></p></li><li><p><code>maxwlPAR</code></p><p>Maximal WL for PAR <code>[nm]</code></p></li><li><p><code>minwle</code></p><p>Minimal WL for SIF excitation <code>[nm]</code></p></li><li><p><code>maxwle</code></p><p>Maximal WL for SIF excitation <code>[nm]</code></p></li><li><p><code>minwlf</code></p><p>Minimal WL for SIF emission/fluorescence <code>[nm]</code></p></li><li><p><code>maxwlf</code></p><p>Maximal WL for SIF emission/fluorescence <code>[nm]</code></p></li><li><p><code>sWL</code></p><p>Standard wave length <code>[nm]</code></p></li><li><p><code>dWL</code></p><p>Differential wavelength</p></li><li><p><code>optis</code></p><p>Leaf optical parameter set</p></li><li><p><code>WL</code></p><p>Wave length <code>[nm]</code></p></li><li><p><code>iWLE</code></p><p>Index of WLE in WL</p></li><li><p><code>iWLF</code></p><p>Index of WLF in WL</p></li><li><p><code>iPAR</code></p><p>index of wlPAR in WL</p></li><li><p><code>WLE</code></p><p>excitation wave length <code>[nm]</code></p></li><li><p><code>WLF</code></p><p>Fluorescence wave length <code>[nm]</code></p></li><li><p><code>WL_iPAR</code></p><p>Wave length for PAR</p></li><li><p><code>dWL_iPAR</code></p><p>Differential wave length for PAR</p></li><li><p><code>dWL_iWLE</code></p><p>Differential wave length for iWLE</p></li><li><p><code>nPAR</code></p><p>Length of WL_iPAR</p></li><li><p><code>nWL</code></p><p>Length of WL</p></li><li><p><code>nWLE</code></p><p>length of WLE</p></li><li><p><code>nWLF</code></p><p>length of WLF</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><h2 id="Caches"><a class="docs-heading-anchor" href="#Caches">Caches</a><a id="Caches-1"></a><a class="docs-heading-anchor-permalink" href="#Caches" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.CFCache" href="#CanopyLayers.CFCache"><code>CanopyLayers.CFCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct CFCache{FT}</code></pre><p>Cache to speed <a href="#CanopyLayers.canopy_fluxes!"><code>canopy_fluxes!</code></a> by pre-allocating arrays</p><p><strong>Fields</strong></p><ul><li><p><code>abs_wave</code></p><p>absorbed energy from wave lengths</p></li><li><p><code>absfs_lidf</code></p><p>absfs&#39; * lidf [nAzi]</p></li><li><p><code>E_all</code></p><p>wave length energy [same as dWL]</p></li><li><p><code>E_iPAR</code></p><p>wave length energy [same as iPAR]</p></li><li><p><code>lPs</code></p><p>lPs [nLayer]</p></li><li><p><code>kChlrel</code></p><p>kChlrel [same as iPAR]</p></li><li><p><code>PAR_diff</code></p><p>diffusive PAR [same as iPAR]</p></li><li><p><code>PAR_diffCab</code></p><p>diffusive PAR for photosynthesis [same as iPAR]</p></li><li><p><code>PAR_dir</code></p><p>direct PAR [same as iPAR]</p></li><li><p><code>PAR_dirCab</code></p><p>diffusive PAR for photosynthesis [same as iPAR]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_cf_cache" href="#CanopyLayers.create_cf_cache"><code>CanopyLayers.create_cf_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_cf_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#CanopyLayers.CFCache"><code>CFCache</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/caches.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.CGCache" href="#CanopyLayers.CGCache"><code>CanopyLayers.CGCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct CGCache{FT}</code></pre><p>Cache to speed <a href="#CanopyLayers.canopy_geometry!"><code>canopy_geometry!</code></a> by pre-allocating arrays</p><p><strong>Fields</strong></p><ul><li><p><code>_Co</code></p><p>cos_ttli .* cos(tto) dim: nIncl</p></li><li><p><code>_Cs</code></p><p>cos_ttli .* cos(tts) dim: nIncl</p></li><li><p><code>_So</code></p><p>sin_ttli .* sin(tto) dim: nIncl</p></li><li><p><code>_Ss</code></p><p>sin_ttli .* sin(tts) dim: nIncl</p></li><li><p><code>_1s</code></p><p>maxtrix filled with 1 dim: (1, nAzi)</p></li><li><p><code>_2d</code></p><p>2D array to speed up _cds and _cdo dim: (nIncl, nAzi)</p></li><li><p><code>_cdo</code></p><p><em>Co * _1s .+ _So * cos</em>philo&#39; dim: (nIncl, nAzi)</p></li><li><p><code>_cds</code></p><p><em>Cs * _1s .+ _Ss * cos</em>ttlo&#39; dim: (nIncl, nAzi)</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_cg_cache" href="#CanopyLayers.create_cg_cache"><code>CanopyLayers.create_cg_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_cg_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#CanopyLayers.CGCache"><code>CGCache</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/caches.jl#L51-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SFCache" href="#CanopyLayers.SFCache"><code>CanopyLayers.SFCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct SFCache{FT}</code></pre><p>Cache to speed <a href="#CanopyLayers.SIF_fluxes!"><code>SIF_fluxes!</code></a> by pre-allocating arrays</p><p><strong>Fields</strong></p><ul><li><p><code>M⁻_sun</code></p></li><li><p><code>M⁺_sun</code></p></li><li><p><code>wfEs</code></p></li><li><p><code>sfEs</code></p></li><li><p><code>sbEs</code></p></li><li><p><code>M⁺⁻</code></p></li><li><p><code>M⁺⁺</code></p></li><li><p><code>M⁻⁺</code></p></li><li><p><code>M⁻⁻</code></p></li><li><p><code>sun_dwl_iWlE</code></p></li><li><p><code>tmp_dwl_iWlE</code></p></li><li><p><code>ϕ_cosΘ_lidf</code></p></li><li><p><code>vfEplu_shade</code></p></li><li><p><code>vbEmin_shade</code></p></li><li><p><code>vfEplu_sun</code></p></li><li><p><code>vbEmin_sun</code></p></li><li><p><code>sigfEmin_shade</code></p></li><li><p><code>sigbEmin_shade</code></p></li><li><p><code>sigfEmin_sun</code></p></li><li><p><code>sigbEmin_sun</code></p></li><li><p><code>sigfEplu_shade</code></p></li><li><p><code>sigbEplu_shade</code></p></li><li><p><code>sigfEplu_sun</code></p></li><li><p><code>sigbEplu_sun</code></p></li><li><p><code>zeroB</code></p></li><li><p><code>tmp_1d_nWlF</code></p></li><li><p><code>tmp_1d_nLayer</code></p></li><li><p><code>dnorm</code></p></li><li><p><code>τ_dd</code></p><p>transmission of diffusive light?</p></li><li><p><code>ρ_dd</code></p><p>extinction of diffuse light?</p></li><li><p><code>Xdd</code></p></li><li><p><code>Rdd</code></p></li><li><p><code>Y</code></p></li><li><p><code>U</code></p></li><li><p><code>S⁻</code></p></li><li><p><code>S⁺</code></p></li><li><p><code>piLs</code></p></li><li><p><code>piLd</code></p></li><li><p><code>Fsmin</code></p></li><li><p><code>Fsplu</code></p></li><li><p><code>Fdmin</code></p></li><li><p><code>Fdplu</code></p></li><li><p><code>Femo</code></p></li><li><p><code>M⁺</code></p></li><li><p><code>M⁻</code></p></li><li><p><code>ϕ_cosΘ</code></p></li><li><p><code>F⁻</code></p></li><li><p><code>F⁺</code></p></li><li><p><code>net_diffuse</code></p></li><li><p><code>tmp_2d_nWlF_nLayer</code></p></li><li><p><code>tmp_2d_nWlF_nLayer_2</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_sf_cache" href="#CanopyLayers.create_sf_cache"><code>CanopyLayers.create_sf_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_sf_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#CanopyLayers.SFCache"><code>SFCache</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/caches.jl#L93-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SWCache" href="#CanopyLayers.SWCache"><code>CanopyLayers.SWCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct SWCache{FT}</code></pre><p>Cache to speed <a href="#CanopyLayers.short_wave!"><code>short_wave!</code></a> by pre-allocating arrays</p><p><strong>Fields</strong></p><ul><li><p><code>dnorm</code></p><p>dnorm?</p></li><li><p><code>piLo</code></p><p>pi * Lo</p></li><li><p><code>piLoc</code></p><p>pi * Lo from canopy</p></li><li><p><code>piLos</code></p><p>pi * Lo from soil</p></li><li><p><code>piLoc2</code></p><p>pi * Lo from canopy 2D matrix</p></li><li><p><code>ρ_dd</code></p><p>extinction of diffuse light?</p></li><li><p><code>ρ_sd</code></p><p>extinction of direct light?</p></li><li><p><code>τ_dd</code></p><p>transmission of diffusive light?</p></li><li><p><code>τ_sd</code></p><p>transmission of direct light?</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_sw_cache" href="#CanopyLayers.create_sw_cache"><code>CanopyLayers.create_sw_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_sw_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#CanopyLayers.CGCache"><code>CGCache</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/caches.jl#L220-L226">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.RTCache" href="#CanopyLayers.RTCache"><code>CanopyLayers.RTCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct RTCache{FT}</code></pre><p>Collection of caches to speed up RT module</p><p><strong>Fields</strong></p><ul><li><p><code>cf_con</code></p><p><a href="#CanopyLayers.CFCache"><code>CFCache</code></a> type cache</p></li><li><p><code>cg_con</code></p><p><a href="#CanopyLayers.CGCache"><code>CGCache</code></a> type cache</p></li><li><p><code>sf_con</code></p><p><a href="#CanopyLayers.SFCache"><code>SFCache</code></a> type cache</p></li><li><p><code>sw_con</code></p><p><a href="#CanopyLayers.SWCache"><code>SWCache</code></a> type cache</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_rt_cache" href="#CanopyLayers.create_rt_cache"><code>CanopyLayers.create_rt_cache</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_rt_cache(FT, rt_dim::RTDimensions)</code></pre><p>Create an <a href="#CanopyLayers.RTCache"><code>RTCache</code></a>, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/caches.jl#L264-L270">source</a></section></article><h2 id="Initialization-of-Structures"><a class="docs-heading-anchor" href="#Initialization-of-Structures">Initialization of Structures</a><a id="Initialization-of-Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Initialization-of-Structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_canopy_opticals" href="#CanopyLayers.create_canopy_opticals"><code>CanopyLayers.create_canopy_opticals</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_canopy_opticals( FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/canopyopticals.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_canopy_rads" href="#CanopyLayers.create_canopy_rads"><code>CanopyLayers.create_canopy_rads</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_canopy_rads(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/canopyrads.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_canopy_rt" href="#CanopyLayers.create_canopy_rt"><code>CanopyLayers.create_canopy_rt</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_canopy_rt(FT; nLayer::Int = 20, LAI::Number = FT(3))</code></pre><p>Create <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a>, given</p><ul><li><code>FT</code> Floating number type</li><li><code>nLayer</code> Number of canopy layers</li><li><code>LAI</code> Leaf area index</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/canopy4rt.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_incoming_radiation" href="#CanopyLayers.create_incoming_radiation"><code>CanopyLayers.create_incoming_radiation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_incoming_radiation(
            wls::WaveLengths{FT},
            wlfn::String = FILE_SUN
) where {FT&lt;:AbstractFloat}</code></pre><p>Create an <code>AbstractIncomingRadiation</code> struct, given</p><ul><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>wlfn</code> File that saves incoming wave information</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/incomingrad.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_leaf_bios" href="#CanopyLayers.create_leaf_bios"><code>CanopyLayers.create_leaf_bios</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_leaf_bios(FT, rt_dim::RTDimensions)</code></pre><p>Create a <a href="#CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/leafbios.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_leaf_opticals" href="#CanopyLayers.create_leaf_opticals"><code>CanopyLayers.create_leaf_opticals</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_leaf_opticals(
            sWL::Array{FT,1},
            file::String = FILE_OPTI
) where {FT&lt;:AbstractFloat}</code></pre><p>Create an <code>AbstractLeafOptiPara</code> struct, given</p><ul><li><code>sWL</code> Standard wave length</li><li><code>opfn</code> File that saves optical parameters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/leafopticals.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_rt_dims" href="#CanopyLayers.create_rt_dims"><code>CanopyLayers.create_rt_dims</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_rt_dims(
            can::Canopy4RT{FT},
            wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Create <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a>, given</p><ul><li><code>can</code> <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/rtdims.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_soil_opticals" href="#CanopyLayers.create_soil_opticals"><code>CanopyLayers.create_soil_opticals</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_soil_opticals(wls::WaveLengths{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Create <a href="#CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> struct, given</p><ul><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/soilopticals.jl#L6-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.create_wave_length" href="#CanopyLayers.create_wave_length"><code>CanopyLayers.create_wave_length</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_wave_length(
            FT,
            sWLs = [collect(400.0:10.0: 650.1);
                    collect(655.0: 5.0: 770.1);
                    collect(780.0:25.0:2400.1)])</code></pre><p>Create <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct, given</p><ul><li><code>FT</code> Floating number type</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/wavelength.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.initialize_rt_module" href="#CanopyLayers.initialize_rt_module"><code>CanopyLayers.initialize_rt_module</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">initialize_rt_module(FT; nLayer::Int = 20, LAI::Number = FT(3))</code></pre><p>Initialize the RT module and return the sturctures, given</p><ul><li><code>FT</code> Floating number type</li><li><code>nLayer</code> Number of canopy layers</li><li><code>LAI</code> Leaf area index</li></ul><p>This function initializes and returns</p><ul><li><code>angles</code> <a href="#CanopyLayers.SolarAngles"><code>SolarAngles</code></a></li><li><code>can</code> <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a></li><li><code>can_opt</code> <a href="#CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a></li><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a></li><li><code>in_rad</code> <a href="#CanopyLayers.IncomingRadiation"><code>IncomingRadiation</code></a></li><li><code>leaves</code> Array{<a href="#CanopyLayers.LeafBios"><code>LeafBios</code></a>,1}</li><li><code>rt_con</code> <a href="#CanopyLayers.RTCache"><code>RTCache</code></a></li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a></li><li><code>soil</code> <a href="#CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a></li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/initialize/all.jl#L6-L25">source</a></section></article><h2 id="Big-Leaf-Model"><a class="docs-heading-anchor" href="#Big-Leaf-Model">Big Leaf Model</a><a id="Big-Leaf-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Big-Leaf-Model" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.big_leaf_partition" href="#CanopyLayers.big_leaf_partition"><code>CanopyLayers.big_leaf_partition</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">big_leaf_partition(
            lai::FT,
            zenith::FT,
            r_all::FT,
            r_dir::FT = FT(0.8)
) where {FT&lt;:AbstractFloat}</code></pre><p>Partition the big-leaf canopy into sunlit and shaded layers, given</p><ul><li><code>lai</code> Leaf area index</li><li><code>zenith</code> Zenith angle in degree</li><li><code>r_all</code> Total radiation in <code>[W m⁻²]</code></li><li><code>r_dir</code> Direct radiation partition in <code>r_all</code></li></ul><p>The function returns</p><ul><li><code>ratio</code> ratio of sunlit leaves out of all leaves</li><li><code>q_slm</code> Mean sunlit layer PAR</li><li><code>q_shm</code> Mean shaded layer PAR</li><li><code>e_sl</code> Mean sunlit layer absorbed total energy</li><li><code>e_sh</code> Mean shaded layer absorbed total energy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/bigleaf/bigleaf.jl#L14-L34">source</a></section></article><h2 id="SCOPE-Model"><a class="docs-heading-anchor" href="#SCOPE-Model">SCOPE Model</a><a id="SCOPE-Model-1"></a><a class="docs-heading-anchor-permalink" href="#SCOPE-Model" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.canopy_fluxes!" href="#CanopyLayers.canopy_fluxes!"><code>CanopyLayers.canopy_fluxes!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">canopy_fluxes!(
            can::Canopy4RT{FT},
            can_opt::CanopyOpticals{FT},
            can_rad::CanopyRads{FT},
            in_rad::IncomingRadiation{FT},
            soil::SoilOpticals{FT},
            leaves::Array{LeafBios{FT},1},
            wls::WaveLengths{FT},
            rt_con::RTCache{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes a variety of integrated fluxes from the spectrally resolved     computations in the short-wave Canopy RT (e.g. absorbed soil radiation,     absorbed direct and diffuse PAR by layer (and angles for direct), net     direct and diffuse energy balance per layer), given</p><ul><li><code>can</code> <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>can_opt</code> <a href="#CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>in_rad</code> <a href="#CanopyLayers.IncomingRadiation"><code>IncomingRadiation</code></a> type struct</li><li><code>soil</code> <a href="#CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>leaves</code> Array of <a href="#CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>rt_con</code> <a href="#CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/canopyfluxes.jl#L6-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.canopy_geometry!" href="#CanopyLayers.canopy_geometry!"><code>CanopyLayers.canopy_geometry!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">canopy_geometry!(
            can::Canopy4RT{FT},
            angles::SolarAngles{FT},
            can_opt::CanopyOpticals{FT},
            rt_con::RTCache{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes canopy optical properties (extinction coefficients for direct and     diffuse light) based on the SAIL model. Most important input parameters are     leaf inclination and azimuth distribution functions and sun-sensor     geometry . Canopy clumping Ω is implemented as in Pinty et al (2015), given</p><ul><li><code>can</code> <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>angles</code> <a href="#CanopyLayers.SolarAngles"><code>SolarAngles</code></a> type struct</li><li><code>can_opt</code> <a href="#CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>rt_con</code> <a href="#CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/canopygeometry.jl#L42-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.canopy_matrices!" href="#CanopyLayers.canopy_matrices!"><code>CanopyLayers.canopy_matrices!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">canopy_matrices!(
            leaves::Array{LeafBios{FT},1},
            can_opt::CanopyOpticals{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Compute scattering coefficient matrices for direct and diffuse light given     geometry dependent overall extinction coefficients and pigment dependent     leaf reflectance and transmission (computed via fluspect). This function     has to be called before <a href="#CanopyLayers.short_wave!"><code>short_wave!</code></a> can be used.</p><ul><li><code>leaves</code> Array of <a href="#CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>can_opt</code> <a href="#CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/canopymatrices.jl#L6-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.clumping_factor!" href="#CanopyLayers.clumping_factor!"><code>CanopyLayers.clumping_factor!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">clumping_factor!(
            can::Canopy4RT{FT},
            angles::SolarAngles{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the clumping factor, given</p><ul><li><code>can</code> <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>angles</code> <a href="#CanopyLayers.SolarAngles"><code>SolarAngles</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/canopygeometry.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.diffusive_S" href="#CanopyLayers.diffusive_S"><code>CanopyLayers.diffusive_S</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">diffusive_S(τ_dd::Array{FT},
            ρ_dd::Array{FT},
            S⁻::Array{FT},
            S⁺::Array{FT},
            boundary_top::Array{FT},
            boundary_bottom::Array{FT},
            rsoil::Array{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes 2-stream diffusive radiation transport (used for thermal and SIF) given:</p><ul><li><code>τ_dd</code> A 2D Array with layer reflectances</li><li><code>ρ_dd</code> A 2D Array with layer transmissions</li><li><code>S⁻</code> A 2D Array with layer source terms in the downwelling direction</li><li><code>S⁺</code> A 2D Array with layer source terms in the upwelling direction</li><li><code>boundary_top</code> A 1D array with downwelling radiation at the top (top of canopy)</li><li><code>boundary_bottom</code> A 1D array with upwnwelling radiation at the bottom (soil)</li><li><code>rsoil</code> A 1D array with soil reflectance</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/diffusives.jl#L6-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.diffusive_S!" href="#CanopyLayers.diffusive_S!"><code>CanopyLayers.diffusive_S!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">diffusive_S!(
            sf_con::SFCache{FT},
            soil::SoilOpticals{FT},
            rt_dim::RTDimensions
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes 2-stream diffusive radiation transport (used for thermal and SIF),     given</p><ul><li><code>sf_con</code> <a href="#CanopyLayers.SFCache"><code>SFCache</code></a> type cache</li><li><code>soil</code> <a href="#CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/diffusives.jl#L76-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.fluspect!" href="#CanopyLayers.fluspect!"><code>CanopyLayers.fluspect!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fluspect!(leaf::LeafBios{FT},
          wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes leaf optical properties (reflectance and transittance) based on     pigment concentrations. Also computes Fluorescence excitation matrices.     Mostly based on PROSPECT-D for leaf reflectance/transmission and FluSpec     for fluorescence.</p><ul><li><code>leaf</code> <a href="#CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/fluspect.jl#L7-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.short_wave!" href="#CanopyLayers.short_wave!"><code>CanopyLayers.short_wave!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">short_wave!(can::Canopy4RT{FT},
            can_opt::CanopyOpticals{FT},
            can_rad::CanopyRads{FT},
            in_rad::IncomingRadiation{FT},
            soil::SoilOpticals{FT},
            rt_con::RTCache{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Simulate the short wave radiation through the canopy, given</p><ul><li><code>can</code> <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>can_opt</code> <a href="#CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>in_rad</code> <a href="#CanopyLayers.IncomingRadiation"><code>IncomingRadiation</code></a> type struct</li><li><code>soil</code> <a href="#CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>rt_con</code> <a href="#CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/shortwave.jl#L6-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SIF_fluxes!" href="#CanopyLayers.SIF_fluxes!"><code>CanopyLayers.SIF_fluxes!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">SIF_fluxes!(leaves::Array{LeafBios{FT},1},
            can_opt::CanopyOpticals{FT},
            can_rad::CanopyRads{FT},
            can::Canopy4RT{FT},
            soil::SoilOpticals{FT},
            wls::WaveLengths{FT},
            rt_con::RTCache{FT},
            rt_dim::RTDimensions
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes 2-stream diffusive radiation transport for SIF radiation (calls     [<code>diffusive_S!</code>] internally). Layer reflectance and transmission is     computed from SW optical properties, layer sources from absorbed light and     SIF efficiencies. Boundary conditions are zero SIF incoming from atmosphere     or soil.</p><ul><li><code>leaves</code> Array of <a href="#CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>can_opt</code> <a href="#CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>can</code> <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>soil</code> <a href="#CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>rt_con</code> <a href="#CanopyLayers.RTCache"><code>RTCache</code></a> type cache</li><li><code>rt_dim</code> <a href="#CanopyLayers.RTDimensions"><code>RTDimensions</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/siffluxes.jl#L6-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.thermal_fluxes!" href="#CanopyLayers.thermal_fluxes!"><code>CanopyLayers.thermal_fluxes!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">thermal_fluxes!(
            leaves::Array{LeafBios{FT},1},
            can_opt::CanopyOpticals{FT},
            can_rad::CanopyRads{FT},
            can::Canopy4RT{FT},
            soil::SoilOpticals{FT},
            incLW::Array{FT},
            wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Computes 2-stream diffusive radiation transport for thermal radiation (calls     [<code>diffusive_S</code>] internally). Layer reflectance and transmission is computed     from LW optical properties, layer sources from temperature and Planck law,     boundary conditions from the atmosphere and soil emissivity and     temperature. Currently only uses Stefan Boltzmann law to compute spectrally     integrated LW but can be easily adjusted to be spectrally resolved.</p><ul><li><code>leaves</code> Array of <a href="#CanopyLayers.LeafBios"><code>LeafBios</code></a> type struct</li><li><code>can_opt</code> <a href="#CanopyLayers.CanopyOpticals"><code>CanopyOpticals</code></a> type struct</li><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>can</code> <a href="#CanopyLayers.Canopy4RT"><code>Canopy4RT</code></a> type struct</li><li><code>soil</code> <a href="#CanopyLayers.SoilOpticals"><code>SoilOpticals</code></a> type struct</li><li><code>incLW</code> A 1D array with incoming long-wave radiation</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/thermalfluxes.jl#L6-L30">source</a></section></article><h2 id="Indicies"><a class="docs-heading-anchor" href="#Indicies">Indicies</a><a id="Indicies-1"></a><a class="docs-heading-anchor-permalink" href="#Indicies" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.BLUE" href="#CanopyLayers.BLUE"><code>CanopyLayers.BLUE</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">BLUE(can_rad::CanopyRads{FT},
     wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the BLUE @ 469 nm, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L6-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.EVI" href="#CanopyLayers.EVI"><code>CanopyLayers.EVI</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">EVI(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the EVI, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L25-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.EVI2" href="#CanopyLayers.EVI2"><code>CanopyLayers.EVI2</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">EVI2(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the EVI2, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L48-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.LSWI" href="#CanopyLayers.LSWI"><code>CanopyLayers.LSWI</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">LSWI(can_rad::CanopyRads{FT},
     wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the LSWI, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L71-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.NDVI" href="#CanopyLayers.NDVI"><code>CanopyLayers.NDVI</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">NDVI(can_rad::CanopyRads{FT},
     wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the NDVI, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L96-L104">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.NIR" href="#CanopyLayers.NIR"><code>CanopyLayers.NIR</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">NIR(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the NIR @ 858.5 nm, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L118-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.NIRv" href="#CanopyLayers.NIRv"><code>CanopyLayers.NIRv</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">NIRv(can_rad::CanopyRads{FT},
     wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the NIRv, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L137-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.RED" href="#CanopyLayers.RED"><code>CanopyLayers.RED</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">RED(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the RED @ 645 nm, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L159-L167">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.REF_WL" href="#CanopyLayers.REF_WL"><code>CanopyLayers.REF_WL</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">REF_WL(wls::WaveLengths{FT},
       can_rad::CanopyRads{FT}
       wls::WaveLengths{FT},
       twl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the Reflectance, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>twl</code> Target wave length in nm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L178-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SIF_740" href="#CanopyLayers.SIF_740"><code>CanopyLayers.SIF_740</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">SIF_740(can_rad::CanopyRads{FT},
        wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SIF @ 740 nm, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L290-L298">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SIF_757" href="#CanopyLayers.SIF_757"><code>CanopyLayers.SIF_757</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">SIF_757(can_rad::CanopyRads{FT},
        wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SIF @ 757 nm, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L309-L317">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SIF_771" href="#CanopyLayers.SIF_771"><code>CanopyLayers.SIF_771</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">SIF_771(can_rad::CanopyRads{FT},
        wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SIF @ 771 nm, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L328-L336">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SIF_WL" href="#CanopyLayers.SIF_WL"><code>CanopyLayers.SIF_WL</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">SIF_WL(wls::WaveLengths{FT},
       can_rad::CanopyRads{FT}
       wls::WaveLengths{FT},
       twl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SIF, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li><li><code>twl</code> Target SIF wave length in nm</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L248-L259">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.SWIR" href="#CanopyLayers.SWIR"><code>CanopyLayers.SWIR</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">SWIR(can_rad::CanopyRads{FT},
    wls::WaveLengths{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the SWIR @ 2130 nm, given</p><ul><li><code>can_rad</code> <a href="#CanopyLayers.CanopyRads"><code>CanopyRads</code></a> type struct</li><li><code>wls</code> <a href="#CanopyLayers.WaveLengths"><code>WaveLengths</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/layers/indicies.jl#L220-L228">source</a></section></article><h2 id="Utils"><a class="docs-heading-anchor" href="#Utils">Utils</a><a id="Utils-1"></a><a class="docs-heading-anchor-permalink" href="#Utils" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.calctav" href="#CanopyLayers.calctav"><code>CanopyLayers.calctav</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">calctav(α::FT, nr::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Computes transmission of isotropic radiation across an interface between two     dielectrics (Stern F., 1964; Allen W.A., 1973)). From calctav.m in     PROSPECT-D</p><ul><li><code>α</code> angle of incidence</li><li><code>nr</code> Index of refraction</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/calctav.jl#L6-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.dcum" href="#CanopyLayers.dcum"><code>CanopyLayers.dcum</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dcum(a::FT, b::FT, t::FT) where {FT&lt;:AbstractFloat}</code></pre><p>TODO Add function description</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/dladgen.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.dladgen" href="#CanopyLayers.dladgen"><code>CanopyLayers.dladgen</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dladgen(a::FT, b::FT, litab_bnd::Array{FT,2}) where {FT&lt;:AbstractFloat}</code></pre><p>TODO Calculate the freqency of WHAT?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/dladgen.jl#L38-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.e2phot" href="#CanopyLayers.e2phot"><code>CanopyLayers.e2phot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">e2phot(λ::Array{FT}, E::Array{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Calculates the number of moles of photons, given</p><ul><li><code>λ</code> An array of wave length in <code>[nm]</code>, converted to <code>[m]</code> by _FAC</li><li><code>E</code> Joules of energy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/e2phot.jl#L8-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.e2phot!" href="#CanopyLayers.e2phot!"><code>CanopyLayers.e2phot!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">e2phot!(
            λ::Array{FT,1},
            E::Array{FT,1},
            cache::Array{FT,1}
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculates the number of moles of photons, given</p><ul><li><code>λ</code> An array of wave length in <code>[nm]</code>, converted to <code>[m]</code> by _FAC</li><li><code>E</code> Joules of energy</li><li><code>cache</code> Cache to avoid memory allocations</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/e2phot.jl#L25-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.expint" href="#CanopyLayers.expint"><code>CanopyLayers.expint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">expint(x::FT) where {FT&lt;:AbstractFloat}</code></pre><p><strong>TODO add function description</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/expint.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.fast∫" href="#CanopyLayers.fast∫"><code>CanopyLayers.fast∫</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fast∫(f::Vector{FT}, dx::Vector{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>A fast way of integrating functions, given</p><ul><li><code>f</code> f(x) for each x</li><li><code>dx</code> Delta x for each x</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/integral.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.fast∫!" href="#CanopyLayers.fast∫!"><code>CanopyLayers.fast∫!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fast∫!(dx::Vector{FT}, f::Vector{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>A fast way of integrating functions, given</p><ul><li><code>f</code> f(x) for each x</li><li><code>dx</code> Delta x for each x</li></ul><p>Note that <code>f</code> is a local cache, and its values change in this operation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/integral.jl#L32-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.psofunction" href="#CanopyLayers.psofunction"><code>CanopyLayers.psofunction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">psofunction(K::FT,
            k::FT,
            Ω::FT,
            LAI::FT,
            q::FT,
            dso::FT,
            xl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p><strong>TODO explain the variables</strong></p><p>Return the probability of observing a sunlit leaf at depth <code>xl</code> (<code>pso</code>, see eq     31 in vdT 2009), given</p><ul><li><code>xl</code> Leaf depth in the canopy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/psofunction.jl#L6-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CanopyLayers.volscatt!" href="#CanopyLayers.volscatt!"><code>CanopyLayers.volscatt!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">volscatt!(cache::Array{FT,1},
          tts::FT,
          tto::FT,
          psi::FT,
          ttl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate interception parameters (<code>chi_s</code> and <code>chi_s</code>) and leaf reflectance     multiplier (<code>frho</code>) and transmittance multiplier (<code>ftau</code>), given</p><ul><li><code>cache</code> Array cache for results</li><li><code>tts</code> Solar zenith angle</li><li><code>tto</code> Viewing zenith angle</li><li><code>psi</code> Azimuth angle</li><li><code>ttl</code> Leaf inclination angle</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/CanopyLayers.jl/blob/09308688bf7dc83b8b874b58ff00d5674eb091e3/src/utils/volscatt.jl#L6-L21">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../generated/bigleaf/">Bigleaf »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 12 January 2021 23:37">Tuesday 12 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
